<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Loran Management</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Ionicons for modern icons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>

    <header class="container flex justify-between items-center" style="padding-top: var(--spacing-lg);">
        <div>
            <p class="text-sm text-muted">Selamat Datang,</p>
            <h1 class="text-xl font-bold text-primary">Bpk. Budi Santoso</h1>
        </div>
        <a href="notifications.html" class="card"
            style="padding: 8px; margin: 0; border-radius: 50%; display: inline-flex; text-decoration: none; position: relative;">
            <ion-icon name="notifications-outline" style="font-size: 24px; color: var(--text-dark);"></ion-icon>
            <!-- Red dot for unread -->
            <div
                style="position: absolute; top: 0; right: 0; width: 10px; height: 10px; background-color: var(--danger-red); border-radius: 50%; border: 2px solid white;">
            </div>
        </a>
    </header>

    <main class="container main-content animate-fade-in">

        <!-- Summary Widget -->
        <section class="card"
            style="background: linear-gradient(135deg, var(--primary-blue), var(--primary-dark)); color: white;">
            <div class="card-header flex justify-between items-center">
                <span style="opacity: 0.9; font-size: 0.9rem;">Saldo Kas Warga</span>
                <ion-icon name="wallet-outline" style="font-size: 1.2rem; opacity: 0.8;"></ion-icon>
            </div>
            <h2 class="font-bold" style="font-size: 2rem; margin: 8px 0;">Rp 45.200.000</h2>
            <div style="font-size: 0.8rem; opacity: 0.8; margin-top: 4px;">Update: 18 Des 2025</div>
        </section>

        <!-- Billing Status -->
        <section class="card flex justify-between items-center" style="border-left: 5px solid var(--danger-red);">
            <div>
                <h3 class="font-bold">Tagihan Bulan Ini</h3>
                <p class="text-sm text-muted" id="billing-period">Oktober 2025</p>
            </div>
            <div class="status-indicator status-unpaid">
                Belum Bayar
            </div>
        </section>

        <!-- Quick Menu -->
        <section>
            <h3 class="font-bold text-lg" style="margin-bottom: var(--spacing-md);">Menu Cepat</h3>
            <div class="flex justify-between gap-sm">
                <!-- Pay Button -->
                <a href="payment.html" class="card flex-col items-center justify-between"
                    style="flex: 1; padding: var(--spacing-md); text-decoration: none; color: var(--text-dark); margin-bottom: 0;">
                    <div
                        style="background-color: var(--accent-light); padding: 12px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 8px;">
                        <ion-icon name="card-outline" style="font-size: 24px; color: var(--primary-blue);"></ion-icon>
                    </div>
                    <span class="font-medium text-sm">Bayar</span>
                </a>

                <!-- Report Button -->
                <a href="transparency.html" class="card flex-col items-center justify-between"
                    style="flex: 1; padding: var(--spacing-md); text-decoration: none; color: var(--text-dark); margin-bottom: 0;">
                    <div
                        style="background-color: #E8F5E9; padding: 12px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 8px;">
                        <ion-icon name="bar-chart-outline"
                            style="font-size: 24px; color: var(--secondary-green);"></ion-icon>
                    </div>
                    <span class="font-medium text-sm">Laporan</span>
                </a>

                <!-- History Button -->
                <a href="profile.html" class="card flex-col items-center justify-between"
                    style="flex: 1; padding: var(--spacing-md); text-decoration: none; color: var(--text-dark); margin-bottom: 0;">
                    <div
                        style="background-color: #FFF3E0; padding: 12px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 8px;">
                        <ion-icon name="time-outline" style="font-size: 24px; color: #F57C00;"></ion-icon>
                    </div>
                    <span class="font-medium text-sm">Riwayat</span>
                </a>
            </div>
        </section>

        <!-- Recent Activity Mini -->
        <section style="margin-top: var(--spacing-lg);">
            <div class="flex justify-between items-center" style="margin-bottom: var(--spacing-md);">
                <h3 class="font-bold text-lg">Aktivitas Terbaru</h3>
                <a href="transparency.html" class="text-sm text-primary" style="text-decoration: none;">Lihat Semua</a>
            </div>

            <div class="card flex justify-between items-center" style="padding: var(--spacing-md);">
                <div class="flex items-center gap-md">
                    <div style="background-color: #E8F5E9; padding: 8px; border-radius: 50%; display: flex;">
                        <ion-icon name="arrow-down-outline" style="color: var(--secondary-green);"></ion-icon>
                    </div>
                    <div>
                        <div class="font-medium text-sm">Masuk: Iuran Sampah</div>
                        <div class="text-sm text-muted">Bpk. Agus (Blok A3)</div>
                    </div>
                </div>
                <div class="font-bold text-success text-sm">+50.000</div>
            </div>

            <div class="card flex justify-between items-center" style="padding: var(--spacing-md);">
                <div class="flex items-center gap-md">
                    <div style="background-color: #FFEBEE; padding: 8px; border-radius: 50%; display: flex;">
                        <ion-icon name="arrow-up-outline" style="color: var(--danger-red);"></ion-icon>
                    </div>
                    <div>
                        <div class="font-medium text-sm">Keluar: Perbaikan Lampu</div>
                        <div class="text-sm text-muted">Operasional</div>
                    </div>
                </div>
                <div class="font-bold text-danger text-sm">-150.000</div>
            </div>
        </section>

    </main>

    <nav class="bottom-nav">
        <a href="index.html" class="nav-item active">
            <ion-icon name="home" class="nav-icon"></ion-icon>
            <span>Beranda</span>
        </a>
        <a href="payment.html" class="nav-item">
            <ion-icon name="card-outline" class="nav-icon"></ion-icon>
            <span>Bayar</span>
        </a>
        <a href="admin.html" class="nav-item">
            <ion-icon name="grid-outline" class="nav-icon"></ion-icon>
            <span>Admin</span>
        </a>
        <a href="profile.html" class="nav-item">
            <ion-icon name="person-outline" class="nav-icon"></ion-icon>
            <span>Profil</span>
        </a>
    </nav>

    <script>
        // Update billing period to current month and year
        const now = new Date();
        const options = { year: 'numeric', month: 'long' };
        // Use Indonesian locale
        const formattedDate = now.toLocaleDateString('id-ID', options);
        document.getElementById('billing-period').textContent = formattedDate;
    </script>
</body>

</html>